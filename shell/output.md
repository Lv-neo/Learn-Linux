# linux shell的输出

最近有小伙伴在php中执行外部程序处理程序，想获取输出信息拿不到的场景，exec,shell_exec,system等都无法获取。然后我介绍了个曲线救国的方案，这里整理下

## Linux输入输出命令含义解析
shell中可能经常能看到：
```
echo log > /dev/null 2>&1
```

命令的结果可以通过```%>```的形式来定义输出

```
/dev/null: 代表空设备文件
>  ：代表重定向到哪里，例如：echo "123" > /home/123.txt
0  ：标准输入stdin
1  ：表示stdout标准输出，系统默认值是1，所以">/dev/null"等同于"1>/dev/null"
2  ：表示stderr标准错误
&  ：表示等同于的意思，2>&1，表示2的输出重定向等同于1
```

```
1 > /dev/null 2>&1 语句含义：
1 > /dev/null ： 首先表示标准输出重定向到空设备文件，也就是不输出任何信息到终端，说白了就是不显示任何信息。
2>&1 ：接着，标准错误输出重定向（等同于）标准输出，因为之前标准输出已经重定向到了空设备文件，所以标准错误输出也重定向到空设备文件。
```

## 用例

* 用例1

```
command >out.file 2>&1 &

command >out.file是将command的输出重定向到out.file文件，即输出内容不打印到屏幕上，而是输出到out.file文件中。 2>&1 是将标准出错重定向到标准输出，这里的标准输出已经重定向到了out.file文件，即将标准出错也输出到out.file文件中。最后一个& ， 是让该命令在后台执行。
```

* 用例2

```
ls 2>1测试一下，不会报没有2文件的错误，但会输出一个空的文件1；
        
ls xxx 2>1测试，没有xxx这个文件的错误输出到了1中；

ls xxx 2>&1测试，不会生成1这个文件了，不过错误跑到标准输出了；

ls xxx >out.txt 2>&1, 实际上可换成 ls xxx 1>out.txt 2>&1；重定向符号>默认是1,错误和输出都传到out.txt了。

```

